import{j as e}from"./index-OtPSfN_w.js";import{u as p}from"./components-Bicglw4e.js";import{P as j,C as u,I as h,B as d,T as n,b as g,a as x}from"./Page-pFACYMxX.js";import{L as o}from"./Layout-kpxSNHR3.js";import{R as b,a as y}from"./ResourceList-BMPt1jSY.js";import"./context-C4lM4JaA.js";function M(){const{depositOrders:a}=p(),i=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t),l=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),m=t=>{if(t.balancePaid)return{tone:"success",text:"Paid"};const s=new Date(t.balanceDueDate),r=new Date,c=Math.ceil((s.getTime()-r.getTime())/(1e3*3600*24));return c<0?{tone:"critical",text:"Overdue"}:c<=7?{tone:"warning",text:"Due Soon"}:{tone:"info",text:"Pending"}};return e.jsx(j,{title:"Deposit Orders",subtitle:"Track and manage orders with deposit payments",children:e.jsxs(o,{children:[e.jsx(o.Section,{children:e.jsx(u,{children:a.length>0?e.jsx(b,{items:a,renderItem:t=>{var r;const s=m(t);return e.jsx(y,{id:t.id,url:`#order-${t.id}`,children:e.jsx("div",{style:{padding:"12px 0"},children:e.jsxs(h,{align:"space-between",children:[e.jsxs(d,{gap:"100",children:[e.jsxs(n,{as:"h3",variant:"bodyLg",fontWeight:"bold",children:["Order ",t.orderNumber]}),e.jsxs(n,{as:"p",variant:"bodyMd",tone:"subdued",children:["Customer: ",t.customerEmail||"No email"]}),e.jsxs(n,{as:"p",variant:"bodySm",tone:"subdued",children:["Plan: ",(r=t.plan)==null?void 0:r.planName]}),e.jsxs(n,{as:"p",variant:"bodySm",tone:"subdued",children:["Created: ",l(t.createdAt)]})]}),e.jsxs(d,{gap:"100",align:"end",children:[e.jsx(g,{tone:s.tone,children:s.text}),e.jsxs(n,{as:"p",variant:"bodyMd",fontWeight:"bold",children:["Total: ",i(t.totalAmount)]}),e.jsxs(n,{as:"p",variant:"bodySm",tone:"subdued",children:["Deposit: ",i(t.depositAmount)," âœ“"]}),e.jsxs(n,{as:"p",variant:"bodySm",tone:"subdued",children:["Balance: ",i(t.balanceAmount)]}),e.jsxs(n,{as:"p",variant:"bodySm",tone:"subdued",children:["Due: ",l(t.balanceDueDate)]})]})]})})})}}):e.jsx(x,{padding:"800",children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx(n,{as:"p",variant:"bodyLg",children:"No deposit orders found"}),e.jsx(n,{as:"p",variant:"bodyMd",tone:"subdued",children:"Orders with deposit payments will appear here automatically"})]})})})}),a.length>0&&e.jsx(o.Section,{children:e.jsx(u,{children:e.jsx(x,{padding:"400",children:e.jsxs(d,{gap:"400",children:[e.jsx(n,{as:"h2",variant:"headingMd",children:"Summary"}),e.jsxs(h,{gap:"800",children:[e.jsxs("div",{children:[e.jsx(n,{as:"p",variant:"bodyMd",fontWeight:"bold",children:"Total Orders"}),e.jsx(n,{as:"p",variant:"headingLg",children:a.length})]}),e.jsxs("div",{children:[e.jsx(n,{as:"p",variant:"bodyMd",fontWeight:"bold",children:"Pending Balance"}),e.jsx(n,{as:"p",variant:"headingLg",children:a.filter(t=>!t.balancePaid).length})]}),e.jsxs("div",{children:[e.jsx(n,{as:"p",variant:"bodyMd",fontWeight:"bold",children:"Total Revenue"}),e.jsx(n,{as:"p",variant:"headingLg",children:i(a.reduce((t,s)=>t+s.totalAmount,0))})]})]})]})})})})]})})}export{M as default};
